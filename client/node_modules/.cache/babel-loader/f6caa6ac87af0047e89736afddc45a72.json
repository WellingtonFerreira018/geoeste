{"ast":null,"code":"var _jsxFileName = \"C:\\\\Frontend - Geoeste\\\\client\\\\src\\\\components\\\\Graphic\\\\Graphic.tsx\";\nimport { GeoJSON, MapContainer, TileLayer, ZoomControl } from \"react-leaflet\";\nimport { Section } from \"../Section/Section\";\nimport { Legend } from \"../Legend/Legend\";\nimport Download from \"../Button/DownloadFile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction style(feature) {\n  if (feature.properties.colors != null) {\n    return {\n      fillColor: feature.properties.colors,\n      fillOpacity: 1,\n      color: \"black\",\n      weight: .7\n    };\n  } else {\n    return {\n      fillColor: '#08a5ee',\n      fillOpacity: 0.3,\n      color: \"black\",\n      weight: 1\n    };\n  }\n}\n\nconst onEachFeature = (atr, layer) => {\n  const atr_n = atr.properties.atr;\n  const atr_nome = atr.properties.nome + \": \" + String(atr.properties.atr);\n\n  if (atr_n != null) {\n    layer.on('mouseover', function e() {\n      if (atr.properties.nome === undefined) layer.bindPopup(atr_n).openPopup();else layer.bindPopup(atr_nome).openPopup();\n    });\n  }\n};\n\nfunction legend() {\n  if (props.edit === false) {\n    if (window.screen.width > 1000) {\n      var _props$graphic, _props$graphic2, _props$graphic3;\n\n      return /*#__PURE__*/_jsxDEV(Legend, {\n        info: (_props$graphic = props.graphic) === null || _props$graphic === void 0 ? void 0 : _props$graphic.map_legs,\n        atr: (_props$graphic2 = props.graphic) === null || _props$graphic2 === void 0 ? void 0 : _props$graphic2.map_value,\n        reference: (_props$graphic3 = props.graphic) === null || _props$graphic3 === void 0 ? void 0 : _props$graphic3.map_refs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 12\n      }, this);\n    }\n  }\n\n  console.log(window.screen.width);\n}\n\nexport const Graphic = props => {\n  if (props.edit === false) {\n    return /*#__PURE__*/_jsxDEV(MapContainer, {\n      style: {\n        height: \"80vh\"\n      },\n      zoom: 8,\n      center: [-24.8, -53.75],\n      id: \"mapId\",\n      attributionControl: false,\n      zoomControl: false,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GeoJSON, {\n        data: JSON.parse(props.data),\n        style: style,\n        onEachFeature: onEachFeature\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), \"$\", legend(), /*#__PURE__*/_jsxDEV(ZoomControl, {\n        position: \"bottomright\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Download, { ...props.downloadProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  } else {\n    var _props$graphic4;\n\n    return /*#__PURE__*/_jsxDEV(MapContainer, {\n      style: {\n        height: \"100vh\"\n      },\n      zoom: 8,\n      center: [-24.8, -53.75],\n      id: \"mapId\",\n      attributionControl: false,\n      zoomControl: false,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GeoJSON, {\n        data: JSON.parse(props.data),\n        style: style,\n        onEachFeature: onEachFeature\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        id: (_props$graphic4 = props.graphic) === null || _props$graphic4 === void 0 ? void 0 : _props$graphic4.map_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ZoomControl, {\n        position: \"bottomright\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n};\n_c = Graphic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Graphic\");","map":{"version":3,"names":["GeoJSON","MapContainer","TileLayer","ZoomControl","Section","Legend","Download","style","feature","properties","colors","fillColor","fillOpacity","color","weight","onEachFeature","atr","layer","atr_n","atr_nome","nome","String","on","e","undefined","bindPopup","openPopup","legend","props","edit","window","screen","width","graphic","map_legs","map_value","map_refs","console","log","Graphic","height","JSON","parse","data","downloadProps","map_id"],"sources":["C:/Frontend - Geoeste/client/src/components/Graphic/Graphic.tsx"],"sourcesContent":["import { GraphicProps } from \"../../interfaces\";\r\nimport { GeoJSON, MapContainer, TileLayer, ZoomControl } from \"react-leaflet\";\r\nimport { Section } from \"../Section/Section\";\r\nimport { Legend } from \"../Legend/Legend\";\r\nimport Reference from \"../References/Reference\";\r\nimport Download from \"../Button/DownloadFile\";\r\n\r\n\r\nfunction style(feature: any) {\r\n\r\n  if (feature.properties.colors != null) {\r\n    return {\r\n      fillColor: feature.properties.colors,\r\n      fillOpacity: 1,\r\n      color: \"black\",\r\n      weight: .7\r\n    };\r\n  } else {\r\n    return {\r\n      fillColor: '#08a5ee',\r\n      fillOpacity: 0.3,\r\n      color: \"black\",\r\n      weight: 1\r\n    };\r\n  }\r\n}\r\n\r\nconst onEachFeature = (atr: any, layer: any) => {\r\n  const atr_n = atr.properties.atr;\r\n  const atr_nome = atr.properties.nome + \": \" + String(atr.properties.atr);\r\n\r\n  if (atr_n != null) {\r\n    layer.on('mouseover', function e() {\r\n      if (atr.properties.nome === undefined)\r\n        layer.bindPopup(atr_n).openPopup();\r\n      else\r\n        layer.bindPopup(atr_nome).openPopup();\r\n    })\r\n  }\r\n};\r\n\r\nfunction legend(){\r\n  if (props.edit === false) {\r\n  if(window.screen.width > 1000){\r\n    return <Legend info={props.graphic?.map_legs} atr={props.graphic?.map_value} reference={props.graphic?.map_refs} />\r\n  }\r\n  }\r\n  console.log(window.screen.width)\r\n}\r\n\r\nexport const Graphic: React.FC<GraphicProps> = (props) => {\r\n  if (props.edit === false) {\r\n    return (\r\n      <MapContainer style={{ height: \"80vh\", }} zoom={8} center={[-24.8, -53.75]} id=\"mapId\" attributionControl={false} zoomControl={false} >\r\n        <TileLayer url=\"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\" />\r\n        <GeoJSON data={JSON.parse(props.data)} style={style} onEachFeature={onEachFeature} />\r\n        ${legend()}\r\n        {/* <Section id={props.graphic?.map_id} isOverGraphic={true}/> */}\r\n        {/* <Legend info={props.graphic?.map_legs} atr={props.graphic?.map_value} reference={props.graphic?.map_refs} /> */}\r\n        <ZoomControl position=\"bottomright\" />\r\n        <Download {...props.downloadProps} />\r\n      </MapContainer>\r\n    )\r\n  } else {\r\n    return (\r\n      <MapContainer style={{ height: \"100vh\", }} zoom={8} center={[-24.8, -53.75]} id=\"mapId\" attributionControl={false} zoomControl={false} >\r\n        <TileLayer url=\"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\" />\r\n        <GeoJSON data={JSON.parse(props.data)} style={style} onEachFeature={onEachFeature} />\r\n        <Section id={props.graphic?.map_id} />\r\n        <ZoomControl position=\"bottomright\" />\r\n      </MapContainer>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}