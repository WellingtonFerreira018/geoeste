{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport '../services/api';\nimport api from \"../services/api\";\nexport function useFetch(url, options) {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [err, setErr] = useState(false);\n  const [isFetching, setIsFetching] = useState(true);\n  useEffect(() => {\n    api.get(url, options).then(res => {\n      setData(res.data);\n    }).catch(function (error) {\n      if (error.response) {\n        setErr(true);\n      }\n    }).finally(() => {\n      setIsFetching(false);\n    });\n  }, [options, url]);\n  return {\n    data,\n    isFetching,\n    err\n  };\n}\n\n_s(useFetch, \"15vO11Yr+oqFwkT/8/l20sGKtHM=\");","map":{"version":3,"names":["useEffect","useState","api","useFetch","url","options","data","setData","err","setErr","isFetching","setIsFetching","get","then","res","catch","error","response","finally"],"sources":["C:/Users/ferre/OneDrive/√Årea de Trabalho/CLB02-2020---Portal-Geoeste/client/src/hooks/useFetching.tsx"],"sourcesContent":["import { AxiosRequestConfig } from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport '../services/api'\r\nimport  api  from \"../services/api\";\r\n\r\nexport function useFetch<T = unknown>(url:string, options?:AxiosRequestConfig){\r\n    const [data, setData] = useState<T | null>(null);\r\n    const [err, setErr] = useState(false);\r\n    const [isFetching, setIsFetching] = useState(true);\r\n\r\n    useEffect(() =>{\r\n        api.get(url, options)\r\n            .then(res =>{\r\n                setData(res.data);\r\n            })\r\n            .catch(function (error){\r\n                if(error.response){\r\n                    setErr(true);\r\n                }\r\n            })\r\n            .finally(()=>{\r\n                setIsFetching(false);\r\n            })\r\n            \r\n    },[options, url]);\r\n\r\n    return { data, isFetching, err }\r\n}\r\n"],"mappings":";;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,iBAAP;AACA,OAAQC,GAAR,MAAkB,iBAAlB;AAEA,OAAO,SAASC,QAAT,CAA+BC,GAA/B,EAA2CC,OAA3C,EAAuE;EAAA;;EAC1E,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAW,IAAX,CAAhC;EACA,MAAM,CAACO,GAAD,EAAMC,MAAN,IAAgBR,QAAQ,CAAC,KAAD,CAA9B;EACA,MAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,IAAD,CAA5C;EAEAD,SAAS,CAAC,MAAK;IACXE,GAAG,CAACU,GAAJ,CAAQR,GAAR,EAAaC,OAAb,EACKQ,IADL,CACUC,GAAG,IAAG;MACRP,OAAO,CAACO,GAAG,CAACR,IAAL,CAAP;IACH,CAHL,EAIKS,KAJL,CAIW,UAAUC,KAAV,EAAgB;MACnB,IAAGA,KAAK,CAACC,QAAT,EAAkB;QACdR,MAAM,CAAC,IAAD,CAAN;MACH;IACJ,CARL,EASKS,OATL,CASa,MAAI;MACTP,aAAa,CAAC,KAAD,CAAb;IACH,CAXL;EAaH,CAdQ,EAcP,CAACN,OAAD,EAAUD,GAAV,CAdO,CAAT;EAgBA,OAAO;IAAEE,IAAF;IAAQI,UAAR;IAAoBF;EAApB,CAAP;AACH;;GAtBeL,Q"},"metadata":{},"sourceType":"module"}